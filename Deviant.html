<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>ZootedEngineGameEngine</title>
    <style>
    	* { padding: 0; margin: 0; }
    	canvas { background:#d1e1ae; display: block; margin: 0 auto; }
    </style>
</head>
<body>
<canvas id="myCanvas" width="320" height="576"></canvas>
<script>
//Canvas Creation 
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");
//Image Loading
var img = new Image();
img.src = "C:/Users/25499/Desktop/europa-universalis-iv-23031-2880x1800.jpg"
//Variables + Arraysng.png
var screeny = 0
var screenx = canvas.width/3
var relations = []
var highscores = []
var thou_date = 0
var sub_menu = 0
var old_date = 0
var difference = 0
var uni_select = 1
var escape = false
var date_difference = false
var repos = 0
var new_date = new Date()
var change_color = false
var uni_mult = 1
var gravity_mult = 0.25
var x_value = 0;
var y_value = 0;
var first = true;
var limit = 25
var loading_sequence = false
var drop_health = true
var game_over = false
//Keyboard Variables
var sPressed = false;
var spacePressed = false;
var enterPressed = false;
var bPressed = false;
var pPressed = false;
var upPressed = false;
var downPressed = false;
var leftPressed = false;
var rightPressed = false;
var escapePressed = false;
//Variables and Lists
var score = 0
var saved_objects = []
var saved = false
var mouse_x = 0
var mouse_y = 0
var mouse_val = 0
var mouse_click = false
var incremental_id = 0
var enemy_id = 0
var menu_exists = true
var projectiles = []
var enemy_projectiles = []
var player_objects = []
var difficulty = 1
//Add Event Listeners
document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);
document.addEventListener("onmousemove", onmousemove, false);
player_objects.push(new player(canvas.width/2,canvas.height-canvas.width/24 - 1,canvas.width/24,"rgb(37,126,71)",100))
//if key is down
function keyDownHandler(e) {
    //Arrow Keys
    if(event.keyCode == 39) {
        rightPressed = true;
    }
    if(event.keyCode == 37) {
        leftPressed = true;
    }
    if(event.keyCode == 38) {
        upPressed = true;
    }
    if(event.keyCode == 40)
    {
        downPressed = true;
    }
    //Non Arrow Keys
    if(event.keyCode == 32)
    {
        spacePressed = true;
    }
    if(event.keyCode == 13)
    {
        enterPressed = true;
    }
    if(event.keyCode == 83)
    {
        sPressed = true;
    }
    if(event.keyCode == 66)
    {
        bPressed = true;
    }
    if(event.keyCode == 80)
    {
        if(pPressed)
        {
            pPressed = false;
        }
        else
        {
            pPressed = true;
        }
    }
    if(event.keyCode == 27)
    {
        escapePressed = true;
    }
}
//if key is not down
function keyUpHandler(e) {
    //Arrow keys
    if(event.keyCode == 39) {
        rightPressed = false;
    }
    if(event.keyCode == 37) {
        leftPressed = false;
    }
    if(event.keyCode == 38) {
        upPressed = false;
    }
    if(event.keyCode == 40)
    {
        downPressed = false;
    }
    //Non arrow keys
    if(event.keyCode == 32)
    {
        spacePressed = false;
    }
    if(event.keyCode == 13)
    {
        enterPressed = false;
    }
    if(event.keyCode == 83)
    {
        sPressed = false;
    }
    if(event.keyCode == 66)
    {
        bPressed = false;
    }
    if(event.keyCode == 27)
    {
        escapePressed = false;
    }
}   
//If mouse click, create balls
// function printMousePos(event) {
//     mouse_x = event.clientX
//     mouse_y = event.clientY
// }
function onmouseclick(event) {
    mouse_click = true
}
document.addEventListener("click",onmouseclick)
// document.addEventListener("click",printMousePos)
//If mouse move, update mouse co-ordinates
onmousemove = function(event) {
    mouse_x = event.clientX
    mouse_y = event.clientY
    }
document.addEventListener("click",onmousemove)
function player(x,y,radius,color,health)
{
    this.x = x
    this.y = y  
    this.gravity = 0.098
    this.gravitySpeed = 0 
    this.color = color
    this.health = health
    this.draw = function() {
        ctx.beginPath();
        ctx.arc(x,y,radius,0,Math.PI*2)
        ctx.fillStyle = color
        ctx.fill();
        ctx.strokeStyle = "rgb(0,0,0)"
        ctx.stroke();
        ctx.closePath();    
        ctx.beginPath();
        ctx.strokeStyle = "rgb(255,255,255)"
        ctx.stroke()
        ctx.closePath()
        health_bar(x-30,y-radius*1.5-15,60,15,this.health)
    }
    this.movement = function() {
        if(leftPressed && x - radius * uni_mult > 0)
        {
            x-=radius/4 * uni_mult
            this.x-=radius/4 * uni_mult
        }
        if(x + radius * uni_mult < canvas.width && rightPressed)
        {   
            x+=radius/4 * uni_mult
            this.x+=radius/4 * uni_mult
        }
    }
}
function bulletController()
{
    if(projectiles.length < limit)
    {
        createBullet()
    }
    if(drop_health == true)
    {
        setTimeout(createHealth,7500)
        drop_health = false
    }
    function createHealth() {
        projectiles.push(new health_drop(rand(16,canvas.width-16),rand(-128,-16),12,incremental_id))
        incremental_id++
        drop_health = true
    }
    function createBullet() {
        projectiles.push(new bullet(rand(5,canvas.width-5),rand(-128,-16),0,0,5,incremental_id,color_generator()))
        incremental_id++
    }
}
function enemyController()
{
    if(enemy_projectiles.length < 5)
    {
        create_enemy()
    }
    function create_enemy() {
        enemy_projectiles.push(new enemy_bullet(rand(5,canvas.width-5),rand(-32,-16),0,0,10,enemy_id,"rgb(255,255,255)"))
        enemy_id+=1
    }
}
function bullet(x,y,xvel,yvel,radius,id,color)
{
    this.alive = true
    this.multiplier = 0.5
    this.id = id
    this.radius = radius
    this.switch_color = false
    this.x = x
    this.y = y
    this.yvel = yvel
    this.destroy = 0
    this.xvel = xvel
    this.gravity = 0.098
    this.gravitySpeed = 1
    this.index = 0
    this.collision = false
    this.destroy = true
    this.time = new Date()
    this.draw = function() {
        if(this.alive == true)
        {
            ctx.lineWidth = 1
            ctx.beginPath();
            ctx.arc(x,y,radius,0,Math.PI*2)
            ctx.closePath();
            ctx.fillStyle = color
            ctx.fill()
            if(this.switch_color == true)
            {
            ctx.linewidth = 5
            ctx.strokeStyle = "rgb(0,0,0)"
            ctx.stroke()
            line(x,y,player_objects[0].x,player_objects[0].y)
            //ctx.lineWidth = 1
            }
            else
            {
            ctx.strokeStyle = "rgb(0,155,32)"
            ctx.stroke()
            }
        }
    }
    this.movement = function() {
        if(x  + xvel* uni_mult > canvas.width-radius || x + xvel < radius) {
            xvel = -xvel/2
        }
        this.gravitySpeed += this.gravity*gravity_mult
        y+=this.gravitySpeed*uni_mult
        if(distance(x+xvel* uni_mult,y+this.gravitySpeed* uni_mult,player_objects[0].x,player_objects[0].y) <= canvas.width/24+this.radius+1)
        {
            if(game_over == false)
            {
            score += this.multiplier*2
            }
            this.multiplier += 1
            this.gravitySpeed = -this.gravitySpeed/1.1
            xvel = xvel+rand(-3,3)
        }
        if(distance(x+xvel* uni_mult,y+this.gravitySpeed* uni_mult,player_objects[0].x,player_objects[0].y) <= 200)
        {
            this.switch_color = true
        }
        else
        {
            this.switch_color = false
        }
        if(y + 5* uni_mult > canvas.height && this.alive == true)
        {
            this.alive = false
            for(i = 0; i < projectiles.length; i++)
            {
                if(projectiles[i].id == this.id)
                {
                    projectiles.splice(i,1)
                    break;
                }
            }
        }
        x += xvel*uni_mult
    }
}
function enemy_bullet(x,y,xvel,yvel,radius,id,color)
{
    this.alive = true
    this.id = id
    this.radius = radius
    this.switch_color = false
    this.x = x
    this.y = y
    this.yvel = yvel
    this.destroy = 0
    this.xvel = xvel
    this.gravity = 0.098
    this.gravitySpeed = 1
    this.index = 0
    this.destroy = true
    this.collision = false
    this.draw = function() {
        if(this.alive == true)
        {
            ctx.lineWidth = 1
            ctx.beginPath();
            ctx.arc(x,y,radius,0,Math.PI*2)
            ctx.fillStyle = color
            ctx.fill()
            if(this.switch_color == true)
            {
            ctx.linewidth = 5
            ctx.strokeStyle = "rgb(0,0,0)"
            line(x,y,player_objects[0].x,player_objects[0].y)
            //ctx.lineWidth = 1
            }
            else
            {
            ctx.strokeStyle = "rgb(0,155,32)"
            }
            ctx.stroke()
            ctx.closePath()
            ctx.beginPath()
            ctx.arc(x,y,radius/2,0,Math.PI*2)
            ctx.strokeStyle = "rgb(255,0,0)"
            ctx.stroke()
            ctx.closePath();
        }
    }
    this.movement = function() {
        if(x  + xvel* uni_mult > canvas.width-radius || x + xvel < radius) {
            xvel = -xvel/2
        }
        this.gravitySpeed += this.gravity*gravity_mult
        y+=this.gravitySpeed*uni_mult
        if(distance(x+xvel* uni_mult,y+this.gravitySpeed* uni_mult,player_objects[0].x,player_objects[0].y) <= canvas.width/24+this.radius+1)
        {
            player_objects[0].health -= 5
            this.gravitySpeed = -this.gravitySpeed/1.1
            xvel = rand(-3,3)
        }
        if(distance(x+xvel* uni_mult,y+this.gravitySpeed* uni_mult,player_objects[0].x,player_objects[0].y) <= 100)
        {
            this.switch_color = true
            create_text(x,y+radius*1.5,"Close!","25px Arial","rgb(32,54,127)")
        }
        else
        {
            this.switch_color = false
        }
        if(y + 5* uni_mult > canvas.height && this.alive == true)
        {
            this.alive = false
            for(i = 0; i < enemy_projectiles.length; i++)
            {
                if(enemy_projectiles[i].id == this.id)
                {
                    enemy_projectiles.splice(i,1)
                    break;
                }
            }
        }
        x += xvel*uni_mult
    }
}
function health_drop(x,y,radius,id)
{
    this.alive = true
    this.gravity = 0.098
    this.gravitySpeed = 0
    this.id = id
    this.x = x
    this.y = y
    this.radius = radius
    this.draw = function() {
        ctx.beginPath()
        ctx.strokeStyle = "rgb(0,0,0)"
        ctx.fillStyle = "rgb(255,255,255)"
        ctx.arc(x,y,radius,0,Math.PI*2)
        ctx.fill()
        ctx.stroke()
        ctx.closePath()
        cross(x,y,radius,radius/5)
    }
    this.movement = function() {
        if(this.alive == true)
        {
        this.gravitySpeed += this.gravity*gravity_mult
        y+=this.gravitySpeed*uni_mult
        }
        if(distance(x,y+this.gravitySpeed * uni_mult,player_objects[0].x,player_objects[0].y) <= canvas.width/24+radius+1)
        {
            if(player_objects[0].health <= 50)
            {
            player_objects[0].health += 50
            }
            else
            {
            player_objects[0].health += 100-player_objects[0].health
            }
            this.alive = false
            for(i = 0; i < projectiles.length; i++)
            {
                if(projectiles[i].id == this.id)
                {
                    projectiles.splice(i,1)
                    break;
                }
            }
        }
        if(y + 5* uni_mult > canvas.height && this.alive == true)
        {
            this.alive = false
            for(i = 0; i < projectiles.length; i++)
            {
                if(projectiles[i].id == this.id)
                {
                    projectiles.splice(i,1)
                    break;
                }
            }
        }
        
    }
}
function health_bar(x,y,w,h,health)
{

    ctx.beginPath()
    ctx.strokeStyle = "rgb(0,0,0)"
    ctx.fillStyle = "rgb(0,255,0)"
    ctx.rect(x,y,w,h)
    ctx.fill()
    ctx.stroke()    
    ctx.closePath()

    ctx.beginPath()
    ctx.strokeStyle = "rgb(0,0,0)"
    ctx.fillStyle = "rgb(255,0,0)"
    if(health >= 0)
    {
    ctx.rect(x+w,y,w/100*(health-100),h)
    }
    else
    {
    ctx.rect(x,y,w,h)
    }
    //ctx.rect(x,y,(w/100)*health,h)
    ctx.fill()
    ctx.stroke()
    ctx.closePath()
}
function cross(x,y,radius,thickness)
{
    ctx.beginPath()
    ctx.lineWidth = thickness
    ctx.strokeStyle = "rgb(255,0,0)"
    ctx.moveTo(x-radius/1.25,y)
    ctx.lineTo(x+radius/1.25,y)
    ctx.moveTo(x,y-radius/1.25)
    ctx.lineTo(x,y+radius/1.25)
    ctx.stroke()
    ctx.closePath()
}
function distance(x1,y1,x2,y2)
{
    this.x1 = x1
    this.y1 = y1
    this.x2 = x2
    this.y2 = y2
    return Math.sqrt((y1-y2) * (y1-y2) + (x1-x2) * (x1-x2))
}
function create_text(x,y,text,style,color,text_pos)
{
    ctx.textAlign = text_pos
    ctx.font = style
    ctx.fillStyle = color
    ctx.fillText(text,x,y)
}
function restart()
{
    document.location.reload()
}
function color_generator()
{
    var color = "rgb(" + rand(0,255) + "," + rand(0,255) + "," + rand(0,255) + ")"
    return color
}
function rand(min,max)
{
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
function line(startx,starty,endx,endy)
{
    ctx.beginPath();
    ctx.lineWidth = 0.1
    ctx.fillStyle = "rgb(40,255,30)"
    ctx.moveTo(startx,starty)
    ctx.lineTo(endx,endy)
    ctx.strokeStyle = "rgb(0,0,0)"
    ctx.stroke();
    ctx.fill();
    ctx.closePath();
}
function goto_site()
{
    window.location.href = "https://disnut.tk"
}
function game() {
    if(!menu_exists)
    {
        if(escapePressed)
        {
        escape = true
        menu_exists = true
        //     projectiles = []
        //     enemy_projectiles = []
        //     score = 0
        //     health = 100
        //     player_objects[0].x = canvas.width/2
        //     player_objects[0].y = canvas.height-canvas.width/24 - 1
        //     (new player(canvas.width/2,canvas.height-canvas.width/24 - 1,canvas.width/24,"rgb(37,126,71)",100))
        }
        else
        {
            escape = false
        }
        if(!pPressed && escape == false)
        {
            if(upPressed)
            {
                uni_mult+=0.01
            }
            else if(downPressed)
            {
                uni_mult-=0.01
            }
            if(bPressed)
            {
                gravity_mult+=0.01
            }
            else if(sPressed)
            {
                gravity_mult-=0.01
            }
            if(spacePressed)
            {
                uni_mult=1
            }
            ctx.clearRect(0,0,canvas.width,canvas.height)
            ctx.lineWidth = 1
            for(i = 0; i < player_objects.length; i++)
            {
                player_objects[i].draw();
                player_objects[i].movement();
                if(player_objects[0].health > 0)
                {
                create_text(canvas.width/2-160,25,"Score: " + score,"30px Arial","rgb(32,127,54)","left")
                ctx.font = "10px Arial"
                ctx.fillText("Friendly Balls: " + projectiles.length,canvas.width-90,10)
                ctx.fillText("Enemy Balls: " + enemy_projectiles.length,canvas.width-90,20)
                }
            }
            bulletController()
            enemyController()
            for(i = 0; i<projectiles.length; i++)
            {
                if(projectiles[i].alive == true)
                {
                projectiles[i].draw()
                projectiles[i].movement()
                }
            }
            for(i = 0; i<enemy_projectiles.length; i++)
            {
                if(enemy_projectiles[i].alive == true)
                {
                enemy_projectiles[i].draw()
                enemy_projectiles[i].movement()
                }
            }
            if(player_objects[0].health < 1 && repos < canvas.height/2)
            {

                if(repos == 0) 
                {
                limit=100
                game_over = true
                uni_mult = -0.05
                highscores.push(score)
                }
                ctx.beginPath()
                ctx.font = "50px Arial"
                ctx.fillStyle = "rgb(127,54,32)"
                ctx.fillText("Game Over",canvas.width/2-130,repos,1000)
                repos+=1
                uni_mult-=0.0005
            }
            else if(player_objects[0].health < 1)
            {
                new_date = new Date()
                if(date_difference == false)
                {
                    old_date = new_date.getSeconds()
                    difference = old_date + 5
                    if(difference > 59)
                    {
                        difference = difference - 60
                    }
                    date_difference = true
                }
                thou_date = difference - new_date.getSeconds()
                create_text(canvas.width/2-45,repos+40,"Game Restarts In: " + thou_date,"10px Arial","rgb(0,0,0)")
                if(new_date.getSeconds() == difference)
                {
                    restart()
                }
                uni_mult = 0.1
                gravity_mult = 0.1
                ctx.font = "50px Arial"
                ctx.fillStyle = "rgb(127,54,32)"
                ctx.fillText("Game Over",canvas.width/2-130,repos,1000)
                ctx.font = "20px Calibri"
                ctx.fillText("Your Score: " + highscores[0],canvas.width/2-4*(12+(score.toString()).length),repos+25,1000)
                //ctx.font = "10px Calibri"
                //ctx.fillText("Press (Enter) to Restart",canvas.width/2-45,repos+40)
                
            }

        }
        else
        {
            if(pPressed)
            {
                create_text(canvas.width/2-95,canvas.height/2-50,"Game Paused","30px Arial","rgb(27,156,45)")
                create_text(canvas.width/2-65,canvas.height/2-25,"Press 'p' to Continue","15px Calibri","rgb(27,156,45")
            }
        }

    }
    else {menu()}
}
function menu() {
    if(sub_menu == 0)
    {
        ctx.clearRect(0,0,canvas.width,canvas.height)
        ctx.beginPath()
        ctx.rect(canvas.width/2-100,50,200,80)
        ctx.rect(canvas.width/2-100,150,200,80)
        ctx.rect(canvas.width/2-100,250,200,80)
        ctx.fillStyle = 'rgb(83,127,56)'
        ctx.fill()
        ctx.strokeStyle = 'rgb(255,255,255)'
        ctx.lineWidth = 5
        ctx.stroke()
        ctx.closePath()

        ctx.beginPath()
        //ctx.drawImage(img,canvas.width/2-100,50)
        create_text(canvas.width/2,100,"Start Game","30px Arial","rgb(56,83,127)","center")
        create_text(canvas.width/2,200,"Options","30px Arial","rgb(56,83,127)","center")
        create_text(canvas.width/2,300,"About","30px Arial","rgb(56,83,127)","center")
        if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 127.5 && mouse_y >= 52.5 && mouse_click == true && menu_exists == true)
        { 
            menu_exists = false
            mouse_click = false
        }
        else if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 227.5 && mouse_y >= 152.5 && mouse_click == true && menu_exists == true)
        { 
            //Options Menu
            mouse_click = false 
            sub_menu = 1
        }
        else if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 327.5 && mouse_y >= 252.5 && mouse_click == true && menu_exists == true)
        { 
            //Options Menu
            mouse_click = false 
            sub_menu = 2
        }
        else
        {
            mouse_click = false
        }
    }
    else if(sub_menu == 1)
    {
        ctx.clearRect(0,0,canvas.width,canvas.height)
        ctx.beginPath()
        ctx.rect(canvas.width/2-100,100,200,80)
        ctx.rect(canvas.width/2-100,225,200,80)
        ctx.rect(canvas.width/2-100,350,200,80)
        ctx.fillStyle = 'rgb(56,83,127)'
        ctx.fill()
        ctx.strokeStyle = 'rgb(255,255,255)'
        ctx.lineWidth = 5
        ctx.stroke()
        ctx.closePath()
        create_text(canvas.width/2,40,"Options","35px Arial Black","rgb(35,186,199)","center")
        create_text(canvas.width/2,87.5,"Ball Speed","25px Bauhaus","rgb(154,76,83)","center")
        create_text(canvas.width/2,210,"Game Speed","25px Bauhaus","rgb(154,76,83)","center")
        create_text(canvas.width/2,397.5,"Back","25px Arial Black","rgb(96,172,83)","center")
        if(difficulty == 1)
        {
            create_text(canvas.width/2,147.5,"Easy","25px Arial Black","rgb(96,172,83)","center")
            gravity_mult = 0.01
        }
        else if(difficulty == 2)
        {
            create_text(canvas.width/2,147.5,"Normal","25px Arial Black","rgb(96,172,83)","center")
            gravity_mult = 0.5
        }
        else
        {
            create_text(canvas.width/2,147.5,"Hard","25px Arial Black","rgb(96,172,83)","center")
            gravity_mult = 1
        }

        if(uni_select == 1)
        {
            create_text(canvas.width/2,272.5,"Slow","25px Arial Black","rgb(96,172,83)","center")
        }
        else if(uni_select == 2)
        {
            create_text(canvas.width/2,272.5,"Medium","25px Arial Black","rgb(96,172,83)","center")
        }
        else if(uni_select == 3)
        {
            create_text(canvas.width/2,272.5,"Fast","25px Arial Black","rgb(96,172,83)","center")
        }
        if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 177.5 && mouse_y >= 102.5 && mouse_click == true && menu_exists == true)
        {   
            difficulty ++
            if(difficulty > 3)
            {
                difficulty = 1
            }
            mouse_click = false
        }
        else if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 302.5 && mouse_y >= 227.5 && mouse_click == true && menu_exists == true)
        {
            if(uni_mult < 0.5)
            {
                uni_mult+=0.25
                uni_select = 2
            }
            else if(uni_mult == 1)
            {
                uni_mult = 0.25
                uni_select = 1
            }
            else
            {
                uni_mult += 0.5
                uni_select = 3
            }
            mouse_click = false
        }
        else if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 427.5 && mouse_y >= 352.5 && mouse_click == true && menu_exists == true)
        {
            sub_menu = 0
            mouse_click = false
        }
        else
        {
            mouse_click = false
        }

    }
    else if(sub_menu == 2)
    {
        ctx.clearRect(0,0,canvas.width,canvas.height)
        ctx.beginPath()
        ctx.rect(0,0,canvas.width,canvas.height)
        ctx.fillStyle = 'rgb(27,143,89)'
        ctx.fill()
        ctx.closePath()
        ctx.beginPath()
        ctx.fillStyle = 'rgb(56,83,127)'
        ctx.rect(canvas.width/2-118,240,236,20)
        //ctx.rect(canvas.width/2,canvas.height/2,200,80)
        ctx.fill()
        ctx.closePath()
        ctx.beginPath()
        ctx.strokeStyle = 'rgb(255,255,255)'
        ctx.rect(canvas.width/2-100,350,200,80)
        ctx.stroke()
        ctx.fill()
        ctx.closePath()

        create_text(canvas.width/2,canvas.height/2-115,"This program was created as a result","15px Arial Black","rgb(0,0,0)","center")
        create_text(canvas.width/2,canvas.height/2-95,"of a partnership between","15px Arial Black","rgb(0,0,0)","center")
        create_text(canvas.width/2,canvas.height/2-75,"SpiralEngineGameEngine, ZootedEngineGameEngine,","10px Arial Black","rgb(0,0,0)","center")
        create_text(canvas.width/2,canvas.height/2-55,"GenieEngineGameEngine and PollockEngineGameEngine","10px Arial Black","rgb(0,0,0)","center")
        create_text(canvas.width/2,canvas.height/2-30,"Go to disnut.tk for more info.","15px Arial Black","rgb(0,0,0)","center")
        create_text(canvas.width/2,397.5,"Back","25px Arial Black","rgb(96,172,83)","center")
        if(mouse_x >= 522 && mouse_x <= 757 && mouse_y <= 260  && mouse_y >= 240 && mouse_click && menu_exists)
        {
            window.location.href = "https://disnut.tk"
            mouse_click = false
            loading_sequence = true
        }
        else if(mouse_x >= 537.5 && mouse_x <= 742.5 && mouse_y <= 427.5 && mouse_y >= 352.5 && mouse_click == true && menu_exists == true)
        {
            sub_menu = 0
            mouse_click = false
        }
        //ctx.rect(canvas.width/2-100,250,200,80) 220 317.5
        if(mouse_click == true)
        {
            console.log(mouse_x)
            //One dimension is 758
            mouse_click = false
        }
        else
        {
            mouse_click = false
        }
        if(loading_sequence)
        {
            var d = new Date()
            ctx.beginPath()
            create_text(canvas.width/2-20,canvas.height/2,"Loading","15px Arial Black","rgb(255,255,255)","centre")
            ctx.arc(canvas.width/2+30,canvas.height/2-2.5,10,d.getSeconds()+d.getMilliseconds()/1000,Math.PI*2)
            ctx.strokeStyle = "rgb(255,255,255)"
            ctx.stroke()
            ctx.closePath()
        }
    }

}
game();
setInterval(game,10)

</script>

</body>
</html>